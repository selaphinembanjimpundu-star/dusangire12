{% extends 'customer_dashboard/base.html' %}
{% load static %}

{% block dashboard_content %}
<div>
    <!-- Breadcrumb -->
    <nav class="breadcrumb" style="background: transparent; padding: 0.5rem 0;">
        <span class="breadcrumb-item">
            <a href="{% url 'customer_dashboard:dashboard' %}" style="color: var(--primary-color); text-decoration: none;">Dashboard</a>
        </span>
        <span class="breadcrumb-item active" style="color: var(--text-secondary);">My Profile</span>
    </nav>

    <!-- Header -->
    <div class="dashboard-header" style="background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); color: white; padding: 2rem; border-radius: 1rem; margin-bottom: 2rem;">
        <div style="display: flex; justify-content: space-between; align-items: center;">
            <div>
                <h1 style="font-size: 2rem; font-weight: 700; margin: 0 0 0.5rem 0;">
                    <i class="bi bi-person-circle" style="margin-right: 0.5rem;"></i>My Profile
                </h1>
                <p style="margin: 0; opacity: 0.9;">Manage your personal information and preferences</p>
            </div>
            <a href="#" class="btn-custom btn-primary-custom" style="display: inline-flex; align-items: center; gap: 0.5rem; background: rgba(255,255,255,0.2); border: 1px solid rgba(255,255,255,0.3); color: white;">
                <i class="bi bi-pencil"></i> Edit Profile
            </a>
        </div>
    </div>

    <!-- Personal Information -->
    <div class="dashboard-card">
        <div class="card-header" style="display: flex; justify-content: space-between; align-items: center;">
            <h2><i class="bi bi-person-fill" style="margin-right: 0.5rem;"></i>Personal Information</h2>
        </div>

        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1.5rem;">
            <!-- Name -->
            <div>
                <label style="color: var(--text-secondary); font-size: 0.8rem; text-transform: uppercase; font-weight: 600; display: block; margin-bottom: 0.5rem;">Full Name</label>
                <p style="margin: 0; color: var(--text-primary); font-size: 1rem; font-weight: 600;">{{ user.get_full_name|default:user.username }}</p>
            </div>

            <!-- Email -->
            <div>
                <label style="color: var(--text-secondary); font-size: 0.8rem; text-transform: uppercase; font-weight: 600; display: block; margin-bottom: 0.5rem;">Email Address</label>
                <p style="margin: 0; color: var(--text-primary); font-size: 1rem; font-weight: 600;">
                    <i class="bi bi-envelope" style="margin-right: 0.3rem; color: var(--primary-color);"></i>
                    {{ user.email }}
                </p>
            </div>

            <!-- Phone -->
            <div>
                <label style="color: var(--text-secondary); font-size: 0.8rem; text-transform: uppercase; font-weight: 600; display: block; margin-bottom: 0.5rem;">Phone Number</label>
                <p style="margin: 0; color: var(--text-primary); font-size: 1rem; font-weight: 600;">
                    <i class="bi bi-telephone" style="margin-right: 0.3rem; color: var(--primary-color);"></i>
                    {{ user.profile.phone_number|default:"Not provided" }}
                </p>
            </div>

            <!-- Join Date -->
            <div>
                <label style="color: var(--text-secondary); font-size: 0.8rem; text-transform: uppercase; font-weight: 600; display: block; margin-bottom: 0.5rem;">Member Since</label>
                <p style="margin: 0; color: var(--text-primary); font-size: 1rem; font-weight: 600;">
                    <i class="bi bi-calendar-event" style="margin-right: 0.3rem; color: var(--primary-color);"></i>
                    {{ user.date_joined|date:"M d, Y" }}
                </p>
            </div>
        </div>
    </div>

    <!-- Delivery Address -->
    <div class="dashboard-card">
        <div class="card-header" style="display: flex; justify-content: space-between; align-items: center;">
            <h2><i class="bi bi-geo-alt-fill" style="margin-right: 0.5rem;"></i>Delivery Address</h2>
            <a href="#" class="btn-custom btn-primary-custom" style="display: inline-flex; align-items: center; gap: 0.3rem; font-size: 0.9rem; padding: 0.5rem 1rem;">
                <i class="bi bi-plus-circle"></i> Add Address
            </a>
        </div>

        <div style="padding: 1.5rem; background: var(--light-bg); border-radius: 0.8rem; border: 2px solid var(--border-color); border-left: 4px solid var(--primary-color);">
            <h5 style="margin: 0 0 0.5rem 0; color: var(--text-primary); font-weight: 600;">Primary Address</h5>
            <p style="margin: 0.5rem 0; color: var(--text-secondary); line-height: 1.6;">
                Kigali, Rwanda<br>
                KN 2 St, Nyarugenge
            </p>
            <p style="margin: 0.5rem 0; color: var(--text-secondary);">
                <i class="bi bi-telephone" style="margin-right: 0.3rem;"></i>
                {{ user.profile.phone_number|default:"Not provided" }}
            </p>
            <div style="margin-top: 1rem; display: flex; gap: 0.5rem;">
                <a href="#" class="btn-custom btn-secondary-custom" style="font-size: 0.85rem; padding: 0.5rem 1rem; display: inline-flex; align-items: center; gap: 0.3rem;">
                    <i class="bi bi-pencil"></i> Edit
                </a>
                <a href="#" class="btn-custom btn-secondary-custom" style="font-size: 0.85rem; padding: 0.5rem 1rem; display: inline-flex; align-items: center; gap: 0.3rem; color: var(--danger-color); border-color: var(--danger-color);">
                    <i class="bi bi-trash"></i> Delete
                </a>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
        <a href="{% url 'customer_dashboard:payment_history' %}" class="dashboard-card" style="text-decoration: none; transition: all 0.3s ease; cursor: pointer;">
            <div style="text-align: center; padding: 1.5rem;">
                <i class="bi bi-credit-card" style="font-size: 2.5rem; color: var(--primary-color); display: block; margin-bottom: 0.5rem;"></i>
                <h6 style="margin: 0; color: var(--text-primary); font-weight: 600;">Payment History</h6>
                <p style="margin: 0.5rem 0 0 0; color: var(--text-secondary); font-size: 0.85rem;">View all transactions</p>
            </div>
        </a>

        <a href="{% url 'customer_dashboard:health_reports' %}" class="dashboard-card" style="text-decoration: none; transition: all 0.3s ease; cursor: pointer;">
            <div style="text-align: center; padding: 1.5rem;">
                <i class="bi bi-heart-pulse" style="font-size: 2.5rem; color: var(--danger-color); display: block; margin-bottom: 0.5rem;"></i>
                <h6 style="margin: 0; color: var(--text-primary); font-weight: 600;">Health Reports</h6>
                <p style="margin: 0.5rem 0 0 0; color: var(--text-secondary); font-size: 0.85rem;">Track your progress</p>
            </div>
        </a>

        <a href="{% url 'customer_dashboard:my_subscriptions' %}" class="dashboard-card" style="text-decoration: none; transition: all 0.3s ease; cursor: pointer;">
            <div style="text-align: center; padding: 1.5rem;">
                <i class="bi bi-calendar-check" style="font-size: 2.5rem; color: var(--success-color); display: block; margin-bottom: 0.5rem;"></i>
                <h6 style="margin: 0; color: var(--text-primary); font-weight: 600;">My Subscriptions</h6>
                <p style="margin: 0.5rem 0 0 0; color: var(--text-secondary); font-size: 0.85rem;">Manage plans</p>
            </div>
        </a>

        <a href="{% url 'customer_dashboard:loyalty' %}" class="dashboard-card" style="text-decoration: none; transition: all 0.3s ease; cursor: pointer;">
            <div style="text-align: center; padding: 1.5rem;">
                <i class="bi bi-star-fill" style="font-size: 2.5rem; color: var(--warning-color); display: block; margin-bottom: 0.5rem;"></i>
                <h6 style="margin: 0; color: var(--text-primary); font-weight: 600;">Loyalty Points</h6>
                <p style="margin: 0.5rem 0 0 0; color: var(--text-secondary); font-size: 0.85rem;">Earn rewards</p>
            </div>
        </a>
    </div>

    <!-- Account Security -->
    <div class="dashboard-card">
        <div class="card-header">
            <h2><i class="bi bi-shield-lock" style="margin-right: 0.5rem;"></i>Account Security</h2>
        </div>

        <div style="display: grid; gap: 1rem;">
            <div style="padding: 1rem; background: var(--light-bg); border-radius: 0.6rem; display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <h6 style="margin: 0 0 0.2rem 0; color: var(--text-primary); font-weight: 600;">
                        <i class="bi bi-key" style="margin-right: 0.5rem; color: var(--primary-color);"></i>Change Password
                    </h6>
                    <p style="margin: 0; color: var(--text-secondary); font-size: 0.85rem;">Update your password regularly</p>
                </div>
                <a href="#" class="btn-custom btn-primary-custom" style="font-size: 0.85rem; padding: 0.5rem 1rem;">Change</a>
            </div>

            <div style="padding: 1rem; background: var(--light-bg); border-radius: 0.6rem; display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <h6 style="margin: 0 0 0.2rem 0; color: var(--text-primary); font-weight: 600;">
                        <i class="bi bi-shield-check" style="margin-right: 0.5rem; color: var(--success-color);"></i>Two-Factor Authentication
                    </h6>
                    <p style="margin: 0; color: var(--text-secondary); font-size: 0.85rem;">Add extra security to your account</p>
                </div>
                <a href="#" class="btn-custom btn-primary-custom" style="font-size: 0.85rem; padding: 0.5rem 1rem;">Enable</a>
            </div>

            <div style="padding: 1rem; background: #f8d7da; border-radius: 0.6rem; display: flex; justify-content: space-between; align-items: center; border: 1px solid #f5c6cb;">
                <div>
                    <h6 style="margin: 0 0 0.2rem 0; color: var(--text-primary); font-weight: 600;">
                        <i class="bi bi-exclamation-triangle" style="margin-right: 0.5rem; color: var(--danger-color);"></i>Delete Account
                    </h6>
                    <p style="margin: 0; color: var(--text-secondary); font-size: 0.85rem;">Permanently delete your account and all data</p>
                </div>
                <a href="#" class="btn-custom btn-secondary-custom" style="font-size: 0.85rem; padding: 0.5rem 1rem; color: var(--danger-color); border-color: var(--danger-color);">Delete</a>
            </div>
        </div>
    </div>

    <!-- Contact Preferences -->
    <div class="dashboard-card">
        <div class="card-header">
            <h2><i class="bi bi-bell-fill" style="margin-right: 0.5rem;"></i>Notification Preferences</h2>
        </div>

        <div style="display: grid; gap: 1rem;">
            <div style="padding: 1rem; background: var(--light-bg); border-radius: 0.6rem; display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <h6 style="margin: 0 0 0.2rem 0; color: var(--text-primary); font-weight: 600;">
                        <i class="bi bi-envelope" style="margin-right: 0.5rem;"></i>Email Notifications
                    </h6>
                    <p style="margin: 0; color: var(--text-secondary); font-size: 0.85rem;">Receive order and account updates</p>
                </div>
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <input type="checkbox" id="emailToggle" checked style="width: 20px; height: 20px; cursor: pointer;">
                </div>
            </div>

            <div style="padding: 1rem; background: var(--light-bg); border-radius: 0.6rem; display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <h6 style="margin: 0 0 0.2rem 0; color: var(--text-primary); font-weight: 600;">
                        <i class="bi bi-chat-dots" style="margin-right: 0.5rem;"></i>SMS Notifications
                    </h6>
                    <p style="margin: 0; color: var(--text-secondary); font-size: 0.85rem;">Get important alerts via text message</p>
                </div>
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <input type="checkbox" id="smsToggle" style="width: 20px; height: 20px; cursor: pointer;">
                </div>
            </div>

            <div style="padding: 1rem; background: var(--light-bg); border-radius: 0.6rem; display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <h6 style="margin: 0 0 0.2rem 0; color: var(--text-primary); font-weight: 600;">
                        <i class="bi bi-gift" style="margin-right: 0.5rem;"></i>Marketing & Promotions
                    </h6>
                    <p style="margin: 0; color: var(--text-secondary); font-size: 0.85rem;">Hear about special offers and new features</p>
                </div>
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <input type="checkbox" id="marketingToggle" style="width: 20px; height: 20px; cursor: pointer;">
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
